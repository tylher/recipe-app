<section class="py-10 flex flex-col gap-10 bg-yellow-50">
  <h2 class="text-5xl font-normal leading-normal lg:w-3/6 w-5/6 m-auto">Shopping List</h2>

  <div class="lg:w-3/6 w-5/6 m-auto flex justify-between">
    <h3>Amount of food items to buy: <%= @ingredients.count %> </h3>
    <h3>Total value of food needed: 
            <% sum = 0 %>
            <% @ingredients.each { |food_recipe| sum += Food.find(food_recipe.food_id).price * food_recipe.quantity} %>
             <%= "$#{sum}" %>
        </h3>
  </div>

  <div class="lg:w-3/6 w-5/6 m-auto bg-white">
    <table class="w-full border table-auto">
      <thead>
        <tr>
          <th>Food</th>
          <th>Quantity</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody>

        <% @ingredients.each do |food|%>
          <tr class="bg-gray-50 text-center">
            <td class="p-2 border-r"><%= food.food.name %></td>
            <td class="p-2 border-r"><%=food.quantity %> <%= food.food.measurement_unit %></td>
            <td class="p-2 border-r"><%= "$#{food.quantity * food.food.price}" %></td>
          </tr>
        <% end %>

      </tbody>
    </table>
  </div>


</section>
